<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Asynchronous Basics | sysarch</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Asynchronous Basics" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Asynchronous routines are able to “pause” while waiting on their ultimate result and let other routines run in the meantime." />
<meta property="og:description" content="Asynchronous routines are able to “pause” while waiting on their ultimate result and let other routines run in the meantime." />
<link rel="canonical" href="https://blog.sysarch.in/markdown/2022/02/21/asynchronous-basics.html" />
<meta property="og:url" content="https://blog.sysarch.in/markdown/2022/02/21/asynchronous-basics.html" />
<meta property="og:site_name" content="sysarch" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-02-21T00:00:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Asynchronous Basics" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-21T00:00:00-06:00","datePublished":"2022-02-21T00:00:00-06:00","description":"Asynchronous routines are able to “pause” while waiting on their ultimate result and let other routines run in the meantime.","headline":"Asynchronous Basics","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.sysarch.in/markdown/2022/02/21/asynchronous-basics.html"},"url":"https://blog.sysarch.in/markdown/2022/02/21/asynchronous-basics.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.sysarch.in/feed.xml" title="sysarch" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" /><script src="https://hypothes.is/embed.js" async></script>

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">sysarch</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Asynchronous Basics</h1><p class="page-description">Asynchronous routines are able to “pause” while waiting on their ultimate result and let other routines run in the meantime.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-02-21T00:00:00-06:00" itemprop="datePublished">
        Feb 21, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#markdown">markdown</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#asynchronous-basics">Asynchronous Basics</a>
<ul>
<li class="toc-entry toc-h3"><a href="#sync">Sync</a></li>
<li class="toc-entry toc-h3"><a href="#real-example">Real Example</a></li>
<li class="toc-entry toc-h3"><a href="#we-need-to-first-look-at-techie-sync-code-for-bot-invitation">we need to first look at techie sync code for bot invitation.</a></li>
</ul>
</li>
</ul><h1 id="asynchronous-basics">
<a class="anchor" href="#asynchronous-basics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Asynchronous Basics</h1>

<p>Before we dewel into async basic, lets understand the sync code behaviour.</p>

<h3 id="sync">
<a class="anchor" href="#sync" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sync</h3>
<p>It execute one step a time. Even with all conditional branching, loops and function calls. we can still think in terms of code that a single step at a time. when each step is completed, the program moves to next one.</p>

<h3 id="real-example">
<a class="anchor" href="#real-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Real Example</h3>
<p>Lets think “techie [our bot]” needs to send message to 100 bot friends for special bot get together. Each bot friends reply with different time delay. So on an average each take 30 miliseconds to reply. The “techie [our bot]” as being superfast bot in these bot society with heavy resource hardware and updated software [As we take care of our bot a lot], it replys in 0.5 miliseconds. As this is non-working day, techie decide to send message and wait for other bot to accept/reject invitations, so time taken would be 30.5 milisecods with each bot. this would lead to total time of 30.5 * 100 = 3050 miliseconds (lazy converter, it will take time to convert into seconds).</p>

<p>Now Scenario has been changed as this would be going to very rough day for techie [bcz our team is on trip, everyone is enjoying !!!]. As techie seeing us ignore, decide to have party with bot friends after works. But it seems as of tight <strong>Process Schedule”, techie don’t have 3050 miliseconds to send invitation. What to do now !!!. 
On **thinking</strong> techie decided to take approach of async way, secretly our one of team member taught this to techie.
Let us see what has been taught to techie secretly.</p>

<p><strong>[confidential notes started !!]</strong></p>

<p>Asynchronous program behave differently, it will take one execution step a time. Asynchronous routines are able to “pause” while waiting on their ultimate result and let other routines run in the meantime.</p>

<p>This means that the program will move on to future execution steps even though a previous step hasn’t yet finished and is still running elsewhere. This also means that the program knows what to do when a previous step does finish running.</p>

<p>Asynchronous programming techniques allow programs to take advantage of relatively slow IO processes by freeing the CPU to do other work.</p>

<p>homework techiniques for techie : polling interval, threading way, context-switching, blocking code &amp; non-blocking code.</p>

<p><strong>[confidential notes ended !!]</strong></p>

<h3 id="we-need-to-first-look-at-techie-sync-code-for-bot-invitation">
<a class="anchor" href="#we-need-to-first-look-at-techie-sync-code-for-bot-invitation" aria-hidden="true"><span class="octicon octicon-link"></span></a>we need to first look at techie sync code for bot invitation.</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import queue
import random
import time 

# create random status behaviour for bots
def random_status(bot_info):
    status = ['online','offline','busy']
    for info in bot_info:
        info['status'] = random.choice(status)
    return bot_info

# create random respone delay behaviour for bots
def random_response(info):
    delay = 5
    response = random.choice(['accept','reject' 'on sick leave'])
    if info['status'] == 'busy':
        delay += random.randint(1,5)
    time.sleep(delay)
    return response, delay 

def imp_message(imp_queue):
    if imp_queue.empty():
        print("No special attention needed.")
    else: 
        while not imp_queue.empty():
            info = imp_queue.get()
            print("Hi {0},Get well soon !!".format(info['name']))

def invite(invite_queue, imp_queue):
    total_time = 0
    if invite_queue.empty():
        print("No new invitation to make.")
    else:
        while not invite_queue.empty():
            info = invite_queue.get()
            print(info)
            respone, delay = random_response(info)
            if respone == 'on sick leave':
                imp_queue.put(info)
            total_time += delay
            print("time taken to get response: {0} millisecond".format(delay))
    print("time taken in {0} millisecond to complete invitaiton".format(total_time))
    


def main():
    bot_info = [
        {"name": "Smart Bot"},
        {"name": "Volter Bot"},
        {"name": "Fintech Bot"},
        {"name": "Pepper Bot"},
        {"name": "CloudBot"}
    ]
    bot_info = random_status(bot_info)
    invite_queue = queue.Queue()
    imp_queue = queue.Queue()
    imp_queue.put({"name":"Pretbot"})
    for info in bot_info:
        invite_queue.put(info)
    # sync task for invitation and special message.
    invite(invite_queue,imp_queue)
    imp_message(imp_queue)

if __name__ == "__main__":
    main()

</code></pre></div></div>


  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="tpriyanshukrishnan/sysarch"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/markdown/2022/02/21/asynchronous-basics.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>blogging for system architecture for large scale.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/tpriyanshukrishnan" target="_blank" title="tpriyanshukrishnan"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
